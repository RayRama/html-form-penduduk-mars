<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="Cache-control" content="no-cache" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Formulir Calon Penduduk Mars</title>
    <link rel="stylesheet" href="./src/css/style.css" />

    <script>
      window.onload = function () {
        var listKota = [
          "bandung",
          "indramayu",
          "jakarta",
          "surabaya",
          "yogyakarta",
        ];

        var kota = document.getElementById("citySelect");

        for (const val of listKota) {
          var option = document.createElement("option");
          option.id = "namakota";
          option.value = val;
          option.text = val.charAt(0).toUpperCase() + val.slice(1);
          kota.appendChild(option);
        }
      };

      function getKota() {
        var select = document.getElementById("citySelect");
        var kotanya = select.options[select.selectedIndex].text;
        localStorage.setItem("Kotanya", kotanya);
      }

      function getName() {
        var firstName = document.getElementById("first").value;
        var lastName = document.getElementById("last").value;
        var Male = document.getElementById("male").checked;
        var Female = document.getElementById("female").checked;

        var hobby = document.getElementById("hobby").value;
        var pesan = document.getElementById("pesan").value;

        var fullName = firstName + " " + lastName;
        getKota();
        ////

        if (
          firstName === "" ||
          lastName === "" ||
          (Male === false && Female === false) ||
          hobby === "" ||
          pesan === ""
        ) {
          alert("Harap mengisi semua data");
          localStorage.clear();
        } else {
          location.href = "selamat.html";
          localStorage.setItem("FullName", fullName);
          localStorage.setItem("FirstName", firstName);
          localStorage.setItem("Hobby", hobby);
          localStorage.setItem("Message", pesan);
          //   localStorage.setItem("City", kotanya);
          if (Male == true) {
            Male = "Male1";
            localStorage.setItem("gender", Male);
          } else {
            localStorage.setItem("gender", Female);
          }
        }
      }

      if (
        window.performance &&
        window.performance.navigation.type ==
          window.performance.navigation.TYPE_BACK_FORWARD
      ) {
        location.reload();
        localStorage.clear();
      }
    </script>
  </head>
  <body>

    <div class="panel">
      <div class="state">
        <br />

        <h2
          style="
            font-weight: bold;
            margin: 10px;
            font-size: 4vh;
            text-align: center;
          "
        >
          Formulir Calon Penduduk Mars
        </h2>
      </div>
      <div class="form">
        <!--Nama depan -->
        <input
          placeholder="Nama depan / Panggilan"
          type="text"
          id="first"
          required
        />
        <p
          style="
            color: white;
            font-style: italic;
            text-align: left;
            font-size: 10px;
            margin-left: 10px;
            margin-bottom: 10px;
          "
        >
          *Contoh: Ray
        </p>
        <!--Nama belakang -->
        <input
          placeholder="Nama belakang / Panggilan"
          type="text"
          id="last"
          required
        />
        <p
          style="
            color: white;
            font-style: italic;
            text-align: left;
            font-size: 10px;
            margin-left: 10px;
            margin-bottom: 10px;
          "
        >
          *Contoh: Ramadita
        </p>
        <!--Hobi -->
        <input placeholder="Hobi" type="text" id="hobby" required />
        <p
          style="
            color: white;
            font-style: italic;
            text-align: left;
            font-size: 10px;
            margin-left: 10px;
            margin-bottom: 10px;
          "
        >
          *Contoh: Hitung beras sekarung
        </p>
        <!--Pesan-->
        <div class="pesan">
          <textarea
            id="pesan"
            name="pesan"
            placeholder="Pesan untuk penduduk bumi"
          ></textarea>
        </div>
        <!--Asal Kota-->
        <div class="kota">
          <label for="city" style="color: white">Asal kota</label>
          <select name="city" id="citySelect" onchange="getKota()"></select>
        </div>
        <!--Kelamin-->
        <div class="gender">
          <label for="gender" style="color: white">Jenis kelamin</label>
          <input type="radio" id="male" name="gender" value="male" />
          <label for="male" style="color: white">Male</label>

          <input type="radio" id="female" name="gender" value="female" />
          <label for="female" style="color: white">Female</label><br />
        </div>

        <div class="login" onclick="getName()">Submit</div>
      </div>
    </div>
    <!-- partial -->
    <!--<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>-->
    <!--<script  src="./script.js"></script>-->
  </body>
</html>
